<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Fri Apr 16 23:53:18 EDT 2021 -->
<title>PlaceGeocoder (Xponents Extraction Toolkit)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-04-16">
<meta name="description" content="declaration: package: org.opensextant.extractors.geo, class: PlaceGeocoder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><img alt='[OpenSextant Logo]' height='36'             width='36'             src='doc-files/opensextant-manual-logo.png'/><br>copyright             OpenSextant.org, 2013-2021</div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PlaceGeocoder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.opensextant.extractors.geo</a></div>
<h1 title="Class PlaceGeocoder" class="title">Class PlaceGeocoder</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../../extraction/SolrMatcherSupport.html" title="class in org.opensextant.extraction">org.opensextant.extraction.SolrMatcherSupport</a>
<div class="inheritance"><a href="GazetteerMatcher.html" title="class in org.opensextant.extractors.geo">org.opensextant.extractors.geo.GazetteerMatcher</a>
<div class="inheritance">org.opensextant.extractors.geo.PlaceGeocoder</div>
</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code>, <code>org.opensextant.extraction.Extractor</code>, <code><a href="BoundaryObserver.html" title="interface in org.opensextant.extractors.geo">BoundaryObserver</a></code>, <code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code>, <code><a href="LocationObserver.html" title="interface in org.opensextant.extractors.geo">LocationObserver</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PlaceGeocoder</span>
<span class="extends-implements">extends <a href="GazetteerMatcher.html" title="class in org.opensextant.extractors.geo">GazetteerMatcher</a>
implements org.opensextant.extraction.Extractor, <a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a>, <a href="BoundaryObserver.html" title="interface in org.opensextant.extractors.geo">BoundaryObserver</a>, <a href="LocationObserver.html" title="interface in org.opensextant.extractors.geo">LocationObserver</a></span></div>
<div class="block">A simple variation on the geocoding algorithms: geotag all possible things
 and determine a best
 geo-location for each tagged item. This uses the following components:
 <ul>
 <li>PlacenameMatcher: place name tagging and gazetteering</li>
 <li>XCoord: coordinate extraction</li>
 <li>geo.rules.* pkg: disambiguation rules to choose the best location for
 tagged names</li>
 </ul></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Marc C. Ubaldino, MITRE, ubaldino at mitre dot org</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static int</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#COORDINATE_PROXIMITY_ADM1_THRESHOLD">COORDINATE_PROXIMITY_ADM1_THRESHOLD</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static int</code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#COORDINATE_PROXIMITY_CITY_THRESHOLD">COORDINATE_PROXIMITY_CITY_THRESHOLD</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">Find nearest city within r=25 KM to infer geography of a given coordinate,
 e.g., What state is
 (x,y) in? Found locations are sorted by distance to point.</div>
</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#METHOD_DEFAULT">METHOD_DEFAULT</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#VERSION">VERSION</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.org.opensextant.extractors.geo.GazetteerMatcher">Fields inherited from class&nbsp;org.opensextant.extractors.geo.<a href="GazetteerMatcher.html" title="class in org.opensextant.extractors.geo">GazetteerMatcher</a></h3>
<code><a href="GazetteerMatcher.html#AR_TAG_FIELD">AR_TAG_FIELD</a>, <a href="GazetteerMatcher.html#CJK_TAG_FIELD">CJK_TAG_FIELD</a>, <a href="GazetteerMatcher.html#DEFAULT_TAG_FIELD">DEFAULT_TAG_FIELD</a>, <a href="GazetteerMatcher.html#filter">filter</a>, <a href="GazetteerMatcher.html#lang2nameField">lang2nameField</a></code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.org.opensextant.extraction.SolrMatcherSupport">Fields inherited from class&nbsp;org.opensextant.extraction.<a href="../../extraction/SolrMatcherSupport.html" title="class in org.opensextant.extraction">SolrMatcherSupport</a></h3>
<code><a href="../../extraction/SolrMatcherSupport.html#getNamesTime">getNamesTime</a>, <a href="../../extraction/SolrMatcherSupport.html#log">log</a>, <a href="../../extraction/SolrMatcherSupport.html#requestHandler">requestHandler</a>, <a href="../../extraction/SolrMatcherSupport.html#solr">solr</a>, <a href="../../extraction/SolrMatcherSupport.html#tagNamesTime">tagNamesTime</a>, <a href="../../extraction/SolrMatcherSupport.html#totalTime">totalTime</a></code></div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.org.opensextant.extraction.Extractor">Fields inherited from interface&nbsp;org.opensextant.extraction.Extractor</h3>
<code>NO_DOC_ID</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">PlaceGeocoder</a></span>()</code></div>
<div class="col-last even-row-color">
<div class="block">A default Geocoding app that demonstrates how to invoke the geocoding pipline
 start to finish.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E(boolean)">PlaceGeocoder</a></span>&#8203;(boolean&nbsp;lowercaseAllowed)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#addRule(org.opensextant.extractors.geo.rules.GeocodeRule)">addRule</a></span>&#8203;(<a href="rules/GeocodeRule.html" title="class in org.opensextant.extractors.geo.rules">GeocodeRule</a>&nbsp;r)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Add your own geocode rules to enable you to add evidence, adjust score,
 outright choose Place
 instances on PlaceCandidates, etc.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#boundaryLevel1InScope(org.opensextant.data.Place)">boundaryLevel1InScope</a></span>&#8203;(org.opensextant.data.Place&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Observer pattern that sees any time a possible boundary (state, province,
 district, etc) is
 mentioned.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#boundaryLevel2InScope(org.opensextant.data.Place)">boundaryLevel2InScope</a></span>&#8203;(org.opensextant.data.Place&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#cleanup()">cleanup</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Please shutdown the application cleanly when done.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#close()">close</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Close solr resources.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#configure()">configure</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">We do whatever is needed to init resources...</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#configure(java.lang.String)">configure</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;patfile)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Configure an Extractor using a config file named by a path.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#configure(java.net.URL)">configure</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/net/URL.html" title="class or interface in java.net" class="external-link">URL</a>&nbsp;patfile)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Configure an Extractor using a config file named by a URL</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>int</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryCount()">countryCount</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryInScope(java.lang.String)">countryInScope</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cc)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Record how often country references are made.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryInScope(org.opensextant.data.Country)">countryInScope</a></span>&#8203;(org.opensextant.data.Country&nbsp;c)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Record how often country references are made.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="CountryCount.html" title="class in org.opensextant.extractors.geo">CountryCount</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryMentionCount()">countryMentionCount</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Calculate country mention totals and ratios.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryObserved(java.lang.String)">countryObserved</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cc)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Have you seen this country before?</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#countryObserved(org.opensextant.data.Country)">countryObserved</a></span>&#8203;(org.opensextant.data.Country&nbsp;C)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Have you seen this country before?</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#enablePersonNameMatching(boolean)">enablePersonNameMatching</a></span>&#8203;(boolean&nbsp;b)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>org.opensextant.data.Place</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#evaluateCoordinate(org.opensextant.data.Geocoding)">evaluateCoordinate</a></span>&#8203;(org.opensextant.data.Geocoding&nbsp;g)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Compund-method that is crucial in reverse geocoding COORDINATE to KNOWN
 PLACE.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#extract(java.lang.String)">extract</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;input_buf)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Generic tagging.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#extract(org.opensextant.data.TextInput)">extract</a></span>&#8203;(org.opensextant.data.TextInput&nbsp;input)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">See <a href="#extract(org.opensextant.data.TextInput,org.opensextant.processing.Parameters)"><code>extract(TextInput, Parameters)</code></a> below.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#extract(org.opensextant.data.TextInput,org.opensextant.processing.Parameters)">extract</a></span>&#8203;(org.opensextant.data.TextInput&nbsp;input,
 org.opensextant.processing.Parameters&nbsp;jobParams)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Extractor.extract() calls first XCoord to get coordinates, then
 PlacenameMatcher In the end you
 have all geo entities ranked and scored.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getName()">getName</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#isCoordExtractionEnabled()">isCoordExtractionEnabled</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#isPersonNameMatchingEnabled()">isPersonNameMatchingEnabled</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#locationInScope(org.opensextant.data.Geocoding)">locationInScope</a></span>&#8203;(org.opensextant.data.Geocoding&nbsp;geo)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">When coordinates are found track them.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="PlaceCount.html" title="class in org.opensextant.extractors.geo">PlaceCount</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#placeMentionCount()">placeMentionCount</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Weight mentions or indirect references to Provinces in the document</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#placeObserved(org.opensextant.data.Place)">placeObserved</a></span>&#8203;(org.opensextant.data.Place&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Tell us if this place P was inferred by hard location mentions</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#reportMemory()">reportMemory</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#reportMetrics()">reportMetrics</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">We have some emerging metrics to report out...</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setParameters(org.opensextant.processing.Parameters)">setParameters</a></span>&#8203;(org.opensextant.processing.Parameters&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setRules(java.util.List)">setRules</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="rules/GeocodeRule.html" title="class in org.opensextant.extractors.geo.rules">GeocodeRule</a>&gt;&nbsp;rlist)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">You don't like the default rule set,..</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.org.opensextant.extractors.geo.GazetteerMatcher">Methods inherited from class&nbsp;org.opensextant.extractors.geo.<a href="GazetteerMatcher.html" title="class in org.opensextant.extractors.geo">GazetteerMatcher</a></h3>
<code><a href="GazetteerMatcher.html#createPlace(org.apache.solr.common.SolrDocument)">createPlace</a>, <a href="GazetteerMatcher.html#createTag(org.apache.solr.common.SolrDocument)">createTag</a>, <a href="GazetteerMatcher.html#getCoreName()">getCoreName</a>, <a href="GazetteerMatcher.html#getFiltrationRatio()">getFiltrationRatio</a>, <a href="GazetteerMatcher.html#getGazetteer()">getGazetteer</a>, <a href="GazetteerMatcher.html#getMatcherParameters()">getMatcherParameters</a>, <a href="GazetteerMatcher.html#initialize()">initialize</a>, <a href="GazetteerMatcher.html#placesAt(org.opensextant.data.LatLon)">placesAt</a>, <a href="GazetteerMatcher.html#searchAdvanced(java.lang.String,boolean)">searchAdvanced</a>, <a href="GazetteerMatcher.html#searchAdvanced(java.lang.String,boolean,int)">searchAdvanced</a>, <a href="GazetteerMatcher.html#setAllowLowerCase(boolean)">setAllowLowerCase</a>, <a href="GazetteerMatcher.html#setAllowLowerCaseAbbreviations(boolean)">setAllowLowerCaseAbbreviations</a>, <a href="GazetteerMatcher.html#setMatchFilter(org.opensextant.extraction.MatchFilter)">setMatchFilter</a>, <a href="GazetteerMatcher.html#tagText(java.lang.String,java.lang.String)">tagText</a>, <a href="GazetteerMatcher.html#tagText(java.lang.String,java.lang.String,boolean)">tagText</a>, <a href="GazetteerMatcher.html#tagText(java.lang.String,java.lang.String,boolean,java.lang.String)">tagText</a>, <a href="GazetteerMatcher.html#tagText(org.opensextant.data.TextInput,boolean)">tagText</a>, <a href="GazetteerMatcher.html#tagText(org.opensextant.data.TextInput,boolean,java.lang.String)">tagText</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.org.opensextant.extraction.SolrMatcherSupport">Methods inherited from class&nbsp;org.opensextant.extraction.<a href="../../extraction/SolrMatcherSupport.html" title="class in org.opensextant.extraction">SolrMatcherSupport</a></h3>
<code><a href="../../extraction/SolrMatcherSupport.html#getRetrievingNamesTime()">getRetrievingNamesTime</a>, <a href="../../extraction/SolrMatcherSupport.html#getTaggingNamesTime()">getTaggingNamesTime</a>, <a href="../../extraction/SolrMatcherSupport.html#getTotalTime()">getTotalTime</a>, <a href="../../extraction/SolrMatcherSupport.html#setTaggerHandler(java.lang.String)">setTaggerHandler</a>, <a href="../../extraction/SolrMatcherSupport.html#tagTextCallSolrTagger(java.lang.String,java.lang.String,java.util.Map)">tagTextCallSolrTagger</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="VERSION">
<h3>VERSION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">VERSION</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.opensextant.extractors.geo.PlaceGeocoder.VERSION">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="METHOD_DEFAULT">
<h3>METHOD_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">METHOD_DEFAULT</span></div>
</section>
</li>
<li>
<section class="detail" id="COORDINATE_PROXIMITY_CITY_THRESHOLD">
<h3>COORDINATE_PROXIMITY_CITY_THRESHOLD</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COORDINATE_PROXIMITY_CITY_THRESHOLD</span></div>
<div class="block">Find nearest city within r=25 KM to infer geography of a given coordinate,
 e.g., What state is
 (x,y) in? Found locations are sorted by distance to point.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.opensextant.extractors.geo.PlaceGeocoder.COORDINATE_PROXIMITY_CITY_THRESHOLD">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COORDINATE_PROXIMITY_ADM1_THRESHOLD">
<h3>COORDINATE_PROXIMITY_ADM1_THRESHOLD</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">COORDINATE_PROXIMITY_ADM1_THRESHOLD</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.opensextant.extractors.geo.PlaceGeocoder.COORDINATE_PROXIMITY_ADM1_THRESHOLD">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>PlaceGeocoder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PlaceGeocoder</span>()
              throws <span class="exceptions">org.opensextant.ConfigException</span></div>
<div class="block">A default Geocoding app that demonstrates how to invoke the geocoding pipline
 start to finish. It
 makes use of XCoord to parse/geocode coordinates,
 SolrGazetteer/GazetteerMatcher to match named
 places, XTax to tag person names. Match Filters and rules work in conjunction
 to filter and tag
 further any candidates.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>org.opensextant.ConfigException</code> - if resource files could not be found in CLASSPATH</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(boolean)">
<h3>PlaceGeocoder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PlaceGeocoder</span>&#8203;<span class="parameters">(boolean&nbsp;lowercaseAllowed)</span>
              throws <span class="exceptions">org.opensextant.ConfigException</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lowercaseAllowed</code> - if lower case abbreviations are allowed. See
                         GazetteerMatcher</dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.ConfigException</code> - if resource files could not be found in CLASSPATH</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>getName</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="configure(java.lang.String)">
<h3>configure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">configure</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;patfile)</span>
               throws <span class="exceptions">org.opensextant.ConfigException</span></div>
<div class="block">Configure an Extractor using a config file named by a path.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>configure</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
<dt>Parameters:</dt>
<dd><code>patfile</code> - configuration file path</dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.ConfigException</code> - on err</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="configure(java.net.URL)">
<h3>configure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">configure</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/net/URL.html" title="class or interface in java.net" class="external-link">URL</a>&nbsp;patfile)</span>
               throws <span class="exceptions">org.opensextant.ConfigException</span></div>
<div class="block">Configure an Extractor using a config file named by a URL</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>configure</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
<dt>Parameters:</dt>
<dd><code>patfile</code> - configuration URL</dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.ConfigException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reportMemory()">
<h3>reportMemory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reportMemory</span>()</div>
</section>
</li>
<li>
<section class="detail" id="reportMetrics()">
<h3>reportMetrics</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reportMetrics</span>()</div>
<div class="block">We have some emerging metrics to report out...</div>
</section>
</li>
<li>
<section class="detail" id="configure()">
<h3>configure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">configure</span>()
               throws <span class="exceptions">org.opensextant.ConfigException</span></div>
<div class="block">We do whatever is needed to init resources... that varies depending on the
 use case.
 Guidelines: this class is custodian of the app controller, Corpus feeder, and
 any Document
 instances passed into/out of the feeder.
 This geocoder requires a default /exclusions/person-name-filter.txt, which
 can be empty, but most
 often it will be a list of person names (which are non-place names)
 Rules Configured in approximate order:
 <ul>
 <li>CountryRule -- tag all country names</li>
 <li>NameCodeRule -- parse any Name, CODE, or Name1, Name2 patterns for
 "Place, AdminPlace" evidence</li>
 <li>PersonNameRule -- annotate, negate any patterns or matches that appear to
 be known celebrity
 persons or organizations. Qualified places are not negated, e.g., "Euguene,
 Oregon" is a place;
 "Euguene" with no other evidence is a person name.</li>
 <li>CoordRule -- if requested, parse any coordinate patterns; Reverse geocode
 Country + Province.</li>
 <li>ProvinceAssociationRule -- associate places with Province inferred by
 coordinates.</li>
 <li>MajorPlaceRule -- identify major places by feature type, class or
 location population.</li>
 <li>LocationChooserRule -- final rule that assigns confidence and chooses
 best location(s)</li>
 </ul>
 Your Rule Here -- use addRule( GeocodeRule ) to add a rule on the stack. It
 will be evaluated
 just before the final LocationChooserRule. your rule should improve Place
 scores on
 PlaceCandidates and name the rules that fire.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>configure</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.ConfigException</code> - on err</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addRule(org.opensextant.extractors.geo.rules.GeocodeRule)">
<h3>addRule</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addRule</span>&#8203;<span class="parameters">(<a href="rules/GeocodeRule.html" title="class in org.opensextant.extractors.geo.rules">GeocodeRule</a>&nbsp;r)</span></div>
<div class="block">Add your own geocode rules to enable you to add evidence, adjust score,
 outright choose Place
 instances on PlaceCandidates, etc. As long as your rule implements or
 overrides
 GeocodeRule.evaluate() methods candidate tags will be fully evaluated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>r</code> - a rule</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRules(java.util.List)">
<h3>setRules</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRules</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="rules/GeocodeRule.html" title="class in org.opensextant.extractors.geo.rules">GeocodeRule</a>&gt;&nbsp;rlist)</span></div>
<div class="block">You don't like the default rule set,.. add your own</div>
</section>
</li>
<li>
<section class="detail" id="cleanup()">
<h3>cleanup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cleanup</span>()</div>
<div class="block">Please shutdown the application cleanly when done.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>cleanup</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="../../extraction/SolrMatcherSupport.html#close()">SolrMatcherSupport</a></code></span></div>
<div class="block">Close solr resources.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/Closeable.html#close()" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../../extraction/SolrMatcherSupport.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../extraction/SolrMatcherSupport.html" title="class in org.opensextant.extraction">SolrMatcherSupport</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setParameters(org.opensextant.processing.Parameters)">
<h3>setParameters</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setParameters</span>&#8203;<span class="parameters">(org.opensextant.processing.Parameters&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="isCoordExtractionEnabled()">
<h3>isCoordExtractionEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCoordExtractionEnabled</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isPersonNameMatchingEnabled()">
<h3>isPersonNameMatchingEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPersonNameMatchingEnabled</span>()</div>
</section>
</li>
<li>
<section class="detail" id="enablePersonNameMatching(boolean)">
<h3>enablePersonNameMatching</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">enablePersonNameMatching</span>&#8203;<span class="parameters">(boolean&nbsp;b)</span></div>
</section>
</li>
<li>
<section class="detail" id="extract(org.opensextant.data.TextInput)">
<h3>extract</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</span>&nbsp;<span class="element-name">extract</span>&#8203;<span class="parameters">(org.opensextant.data.TextInput&nbsp;input)</span>
                                                   throws <span class="exceptions">org.opensextant.extraction.ExtractionException</span></div>
<div class="block">See <a href="#extract(org.opensextant.data.TextInput,org.opensextant.processing.Parameters)"><code>extract(TextInput, Parameters)</code></a> below.
 This is the default extraction routine. If you need to tune extraction call
 <code>extract( input, parameters ) </code></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>extract</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.extraction.ExtractionException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extract(org.opensextant.data.TextInput,org.opensextant.processing.Parameters)">
<h3>extract</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</span>&nbsp;<span class="element-name">extract</span>&#8203;<span class="parameters">(org.opensextant.data.TextInput&nbsp;input,
 org.opensextant.processing.Parameters&nbsp;jobParams)</span>
                                                   throws <span class="exceptions">org.opensextant.extraction.ExtractionException</span></div>
<div class="block">Extractor.extract() calls first XCoord to get coordinates, then
 PlacenameMatcher In the end you
 have all geo entities ranked and scored.
 LangID can be set on TextInput input.langid. Only lowercase langIDs please:
 'zh', 'ar', tag text
 for those languages in particular. Null and Other values are treated as
 generic as of v2.8.
 <p>
 Use TextMatch.getType() to determine how to interpret TextMatch / Geocoding
 results:
 <ul>
 <li>Given TextMatch match, then</li>
 <li>Place tag: ((PlaceCandiate)match).getChosen() OR</li>
 <li>Coord tag: (Geocoding)match, OR</li>
 <li>Other tag: match might be TaxonMatch or Pattern (PoliMatch)</li>
 </ul>
 Both methods yield a geocoding.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>input</code> - input buffer, doc ID, and optional langID.</dd>
<dt>Returns:</dt>
<dd>TextMatch instances which are all PlaceCandidates.</dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.extraction.ExtractionException</code> - on err</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryInScope(org.opensextant.data.Country)">
<h3>countryInScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">countryInScope</span>&#8203;<span class="parameters">(org.opensextant.data.Country&nbsp;c)</span></div>
<div class="block">Record how often country references are made.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryInScope(org.opensextant.data.Country)">countryInScope</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>c</code> - country obj</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryCount()">
<h3>countryCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">countryCount</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryCount()">countryCount</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryMentionCount()">
<h3>countryMentionCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="CountryCount.html" title="class in org.opensextant.extractors.geo">CountryCount</a>&gt;</span>&nbsp;<span class="element-name">countryMentionCount</span>()</div>
<div class="block">Calculate country mention totals and ratios. These ratios help qualify what
 the document is
 about. These may be mentions in text or inferred mentions to the countries
 listed, e.g., a coord
 infers a particular country.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryMentionCount()">countryMentionCount</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
<dt>Returns:</dt>
<dd>map of country code : counts</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="placeMentionCount()">
<h3>placeMentionCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="PlaceCount.html" title="class in org.opensextant.extractors.geo">PlaceCount</a>&gt;</span>&nbsp;<span class="element-name">placeMentionCount</span>()</div>
<div class="block">Weight mentions or indirect references to Provinces in the document</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BoundaryObserver.html#placeMentionCount()">placeMentionCount</a></code>&nbsp;in interface&nbsp;<code><a href="BoundaryObserver.html" title="interface in org.opensextant.extractors.geo">BoundaryObserver</a></code></dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryInScope(java.lang.String)">
<h3>countryInScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">countryInScope</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cc)</span></div>
<div class="block">Record how often country references are made.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryInScope(java.lang.String)">countryInScope</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>cc</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryObserved(java.lang.String)">
<h3>countryObserved</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">countryObserved</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cc)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="CountryObserver.html#countryObserved(java.lang.String)">CountryObserver</a></code></span></div>
<div class="block">Have you seen this country before?</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryObserved(java.lang.String)">countryObserved</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>cc</code> - country code</dd>
<dt>Returns:</dt>
<dd>true if observer saw country</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countryObserved(org.opensextant.data.Country)">
<h3>countryObserved</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">countryObserved</span>&#8203;<span class="parameters">(org.opensextant.data.Country&nbsp;C)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="CountryObserver.html#countryObserved(org.opensextant.data.Country)">CountryObserver</a></code></span></div>
<div class="block">Have you seen this country before?</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CountryObserver.html#countryObserved(org.opensextant.data.Country)">countryObserved</a></code>&nbsp;in interface&nbsp;<code><a href="CountryObserver.html" title="interface in org.opensextant.extractors.geo">CountryObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>C</code> - country object</dd>
<dt>Returns:</dt>
<dd>true if observer saw country</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="locationInScope(org.opensextant.data.Geocoding)">
<h3>locationInScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">locationInScope</span>&#8203;<span class="parameters">(org.opensextant.data.Geocoding&nbsp;geo)</span></div>
<div class="block">When coordinates are found track them. A coordinate is critical -- it informs
 us of city,
 province, and country. If the location is off shore or in no-mans' land,
 these chains of
 observers should respect that and fail quietly.
 There are at least two opportunities here: 1. Given a geo coordinate, use
 that hard location to
 disambiguate other named places 2. Given a geo coordinate identify the
 nearest known place(s).
 Such places may not be presented in the document or text.
 The first improves overall location accuracy, the second offers location
 enrichment and
 discovery.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="LocationObserver.html#locationInScope(org.opensextant.data.Geocoding)">locationInScope</a></code>&nbsp;in interface&nbsp;<code><a href="LocationObserver.html" title="interface in org.opensextant.extractors.geo">LocationObserver</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="boundaryLevel1InScope(org.opensextant.data.Place)">
<h3>boundaryLevel1InScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">boundaryLevel1InScope</span>&#8203;<span class="parameters">(org.opensextant.data.Place&nbsp;p)</span></div>
<div class="block">Observer pattern that sees any time a possible boundary (state, province,
 district, etc) is
 mentioned.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BoundaryObserver.html#boundaryLevel1InScope(org.opensextant.data.Place)">boundaryLevel1InScope</a></code>&nbsp;in interface&nbsp;<code><a href="BoundaryObserver.html" title="interface in org.opensextant.extractors.geo">BoundaryObserver</a></code></dd>
<dt>Parameters:</dt>
<dd><code>p</code> - ID of a boundary.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="boundaryLevel2InScope(org.opensextant.data.Place)">
<h3>boundaryLevel2InScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">boundaryLevel2InScope</span>&#8203;<span class="parameters">(org.opensextant.data.Place&nbsp;p)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BoundaryObserver.html#boundaryLevel2InScope(org.opensextant.data.Place)">boundaryLevel2InScope</a></code>&nbsp;in interface&nbsp;<code><a href="BoundaryObserver.html" title="interface in org.opensextant.extractors.geo">BoundaryObserver</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extract(java.lang.String)">
<h3>extract</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;org.opensextant.extraction.TextMatch&gt;</span>&nbsp;<span class="element-name">extract</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;input_buf)</span>
                                                   throws <span class="exceptions">org.opensextant.extraction.ExtractionException</span></div>
<div class="block">Generic tagging. No doc ID or language ID given. Nothing language specific
 will be done here.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code>extract</code>&nbsp;in interface&nbsp;<code>org.opensextant.extraction.Extractor</code></dd>
<dt>Throws:</dt>
<dd><code>org.opensextant.extraction.ExtractionException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="evaluateCoordinate(org.opensextant.data.Geocoding)">
<h3>evaluateCoordinate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.opensextant.data.Place</span>&nbsp;<span class="element-name">evaluateCoordinate</span>&#8203;<span class="parameters">(org.opensextant.data.Geocoding&nbsp;g)</span>
                                              throws <span class="exceptions">org.apache.solr.client.solrj.SolrServerException,
<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Compund-method that is crucial in reverse geocoding COORDINATE to KNOWN
 PLACE.
 <p>
 A method to retrieve one or more distinct admin boundaries containing the
 coordinate. This
 depends on resolution of gazetteer at hand. Secondarily as nearby places are
 encountered they are
 added to a coordinate providing a basic reverse-geocoding solution.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>g</code> - geo coordinate found in text.</dd>
<dt>Returns:</dt>
<dd>Place object near the geocoding.</dd>
<dt>Throws:</dt>
<dd><code>org.apache.solr.client.solrj.SolrServerException</code> - a query against the Solr index may throw a Solr
                             error.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="placeObserved(org.opensextant.data.Place)">
<h3>placeObserved</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">placeObserved</span>&#8203;<span class="parameters">(org.opensextant.data.Place&nbsp;p)</span></div>
<div class="block">Tell us if this place P was inferred by hard location mentions</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="LocationObserver.html#placeObserved(org.opensextant.data.Place)">placeObserved</a></code>&nbsp;in interface&nbsp;<code><a href="LocationObserver.html" title="interface in org.opensextant.extractors.geo">LocationObserver</a></code></dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2013&#x2013;2021. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
